{% extends 'base.html.twig' %}

{% block banner '' %}
{% block page_title article.title %}
{% block meta_description article.description %}
{% block meta_twitter_description article.twitterDescription ?: article.description %}

{% block canonical_url url('app_explainer_article_show', {'slug': article.slug}) %}

{% block open_graph_image (article.media ? (homepage_url ~ media_asset(article.media)) : default_sharer)|raw %}
{% block open_graph_image_width (article.media ? article.media.width : default_sharer_width) %}
{% block open_graph_image_height (article.media ? article.media.height : default_sharer_height) %}

{% block final_stylesheets include('bot/_stylesheet.html.twig') %}
{% block final_javascripts include('bot/_javascript.html.twig') %}

{% block content %}
    <main class="content b__nudge--bottom">
        <section class="programme b__nudge--bottom">
            <header class="space--60-0 l__wrapper--slim">
                <h1 class="text--large b__nudge--bottom-small">
                    {{ article.title }}
                </h1>
                <h2 class="text--gray b__nudge--bottom bigger">{{ article.description }}</h2>
            </header>

            {% if article.media and article.displayMedia %}
                <amp-img src="{{ media_asset(article.media, {'q': 70}) }}"
                         width="{{ article.media.width }}"
                         height="{{ article.media.height }}"
                         layout="responsive">
                    <noscript>
                        <img src="{{ media_asset(article.media, {'q': 70}) }}"
                             width="{{ article.media.width }}"
                             height="{{ article.media.height }}" />
                    </noscript>
                </amp-img>
            {% endif %}

            <article class="l__wrapper--slim">
                {{ article.ampContent|raw }}
            </article>
        </section>
    </main>
{% endblock %}
